define(["require","exports","module","famous/core/View","famous/core/Surface","famous/surfaces/ContainerSurface","famous/core/Transform","famous/core/Modifier","famous/modifiers/StateModifier","famous/transitions/Transitionable","famous/transitions/SpringTransition","famous/inputs/MouseSync","famous/inputs/TouchSync","famous/modifiers/Draggable"],function(i,t,o){function e(){a.apply(this,arguments),this.rootModifier=new d({size:[void 0,this.options.size[1]],align:[0,0],origin:[0,0]}),this.mainNode=this.add(this.rootModifier),this.isMobile=this.options.isMobile,this.background=new u({content:"background",size:[void 0,this.options.size[1]-this.options.margin],properties:{backgroundColor:this.options.itemBackgroundColor,textAlign:"center",pointerEvents:"none"}}),this.playing=!1,this.mainNode.add(this.background),this.background.pipe(this._eventOutput),this.isMobile?this.pointerEvents="all":this.pointerEvents="none",r.call(this),n.call(this)}function s(){return!!this.video}function n(){this.videoSurface=new p({content:'<div id="'+this.options.playerId+'">&nbsp;</div>',size:[void 0,!0],properties:{textAlign:"center",pointerEvents:this.pointerEvents,zIndex:1e4},classes:["youtube"]});var i=new d({origin:[0,.5],align:[0,.5]});this.background.add(i).add(this.videoSurface)}function r(){var i=this,t=10+(i.options.gutterWidth+2)/2+"px",o=10+(i.options.gutterWidth+2)/2+"px";switch(i.options.numberColumns){case 2:0==i.options.columnNumber?(t="10px",o=10+(i.options.gutterWidth+2)/2+"px"):(t=String(10+(i.options.gutterWidth+2)/2)+"px",o="10px");break;case 3:0==i.options.columnNumber&&(t="10px",o=10+(i.options.gutterWidth+2)/2+"px"),2==i.options.columnNumber&&(t=10+(i.options.gutterWidth+2)/2+"px",o="10px");break;case 4:0==i.options.columnNumber&&(t="10px",o=10+(i.options.gutterWidth+2)/2+"px"),2==i.options.columnNumber&&(t=10+(i.options.gutterWidth+2)/2+"px",o=10+(i.options.gutterWidth+2)/2+"px"),3==i.options.columnNumber&&(t=10+(i.options.gutterWidth+2)/2+"px",o="10px")}this.titleSurface=new p({content:this.options.playerTitle,size:[void 0,!0],properties:{backgroundColor:"hsl(10,10,10)",lineHeight:"20px",textAlign:"center",zIndex:10,pointerEvents:"none",userSelect:"none",paddingLeft:t,paddingRight:o},classes:["youtube-title",i.options.darkOrLight]});var e=new d({origin:[.5,0],align:[.5,.05]});this.background.add(e).add(this.titleSurface)}var a=i("famous/core/View"),p=i("famous/core/Surface"),u=i("famous/surfaces/ContainerSurface"),d=(i("famous/core/Transform"),i("famous/core/Modifier"),i("famous/modifiers/StateModifier")),c=i("famous/transitions/Transitionable"),l=i("famous/transitions/SpringTransition");i("famous/inputs/MouseSync"),i("famous/inputs/TouchSync"),i("famous/modifiers/Draggable");c.registerMethod("spring",l);e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.DEFAULT_OPTIONS={size:[void 0,!0],align:[0,0],playerId:"player",title:"title",id:0,playerSize:[100,100],xpos:0,ypos:0,parent:this,isMobile:!1},e.prototype.onPlayerReady=function(i,t,o){this.video=i,this.playMedia.call(this),this.playing=!0,this.changeVolumeOnReady&&(this.changeVolume(this.volume),this.changeVolumeOnReady=!1)};e.prototype.onPlayerStateChange=function(i,t){0==i.data&&(this.video.pauseVideo(),this.video.seekTo(0),t.snapRandomPlay.call(t))},e.prototype.changeVolume=function(i){s.call(this)&&this.video.setVolume(i)},e.prototype.playMedia=function(i){s.call(this)&&this.video.playVideo()},e.prototype.pauseMedia=function(i){s.call(this)&&this.video.pauseVideo()},e.prototype.stopBoardVideo=function(i){s.call(this)&&this.playing&&this.video.stopVideo()},e.prototype.setVolume=function(i){this.volume=i,this.changeVolumeOnReady=!0},e.prototype.madeVideo=function(){return s.call(this)},o.exports=e});