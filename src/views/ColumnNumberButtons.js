define(["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/core/Modifier","famous/transitions/Transitionable","famous/transitions/Easing","famous/modifiers/Draggable"],function(t,o,e){function i(){n.apply(this,arguments),self=this,this.rootModifier=new h({origin:[0,0],align:[0,0]}),this.mainNode=this.add(this.rootModifier),this.HEIGHT=45,this.WIDTH=65,this.TRANSITION={duration:50,curve:d.outBounce},this.twoState=new l(0),this.threeState=new l(0),this.fourState=new l(0),2==this.options.columnCount?(this.twoIsToggled=!0,this.twoState.set(1),this.twoActive=!0):(this.twoIsToggled=!1,this.twoActive=!1),3==this.options.columnCount?(this.threeIsToggled=!0,this.threeState.set(1),this.threeActive=!0):(this.threeIsToggled=!1,this.threeActive=!1),4==this.options.columnCount?(this.fourIsToggled=!0,this.fourState.set(1),this.fourActive=!0):(this.fourIsToggled=!1,this.fourActive=!1),WURFL.is_mobile||(s.call(this,this.twoState,this.twoIsToggled,[.7,.2],0,0,"?nocols=2&hud=1",this.twoActive,"columns","2",!1,!1,this.WIDTH,this.HEIGHT),s.call(this,this.threeState,this.threeIsToggled,[.7,.2],75,0,"?nocols=3&hud=1",this.threeActive,"","3",!1,!1,this.WIDTH,this.HEIGHT),s.call(this,this.fourState,this.fourIsToggled,[.7,.2],150,0,"?nocols=4&hud=1",this.fourActive,"","4",!1,!1,this.WIDTH,this.HEIGHT));var t,o;WURFL.is_mobile?window.portrait?(o=110,t=[.05,.15]):(o=200,t=[.6,.4]):(o=200,t=[.7,.7]),this.autoPlay=new l(0),this.autoPlayToggled=!1,s.call(this,this.autoPlay,this.autoPlayToggled,t,0,0,"?nocols=4&hud=0",!1,"","demo mode",!0,!1,o,this.HEIGHT);var e,i;WURFL.is_mobile?window.portrait?(i=166,e=[.43,.15]):(i=200,e=[.6,.2]):(i=200,e=[.7,.45]),this.reload=new l(0),this.reloadToggled=!1;var r;switch(r=WURFL.is_mobile?"new music selection":"new video selection",this.options.columnCount){case 2:s.call(this,this.reload,this.reloadToggled,e,0,0,"?nocols=2&hud=1",!1,"none",r,!1,!0,i,this.HEIGHT);break;case 3:s.call(this,this.reload,this.reloadToggled,e,0,0,"?nocols=3&hud=1",!1,"none",r,!1,!0,i,this.HEIGHT);break;case 4:s.call(this,this.reload,this.reloadToggled,e,0,0,"?nocols=4&hud=1",!1,"none",r,!1,!0,i,this.HEIGHT)}}function s(t,o,e,i,s,n,h,l,d,c,g,f,p){var m=this;this.buttonWidth=f,this.buttonHeight=p;var T="all";if(h)var T="none";var b,w=new r({size:[this.buttonWidth,this.buttonHeight],content:d,properties:{textAlign:"center",lineHeight:this.buttonHeight+"px",backgroundColor:"#ff4b23",border:"1px solid gray",borderRadius:this.buttonHeight+"px",zIndex:2}}),I=new r({size:[this.buttonWidth,this.buttonHeight],content:d,properties:{textAlign:"center",lineHeight:this.buttonHeight+"px",textAlign:"center",lineHeight:this.buttonHeight+"px",backgroundColor:"#eee",border:"1px solid gray",borderRadius:this.buttonHeight+"px",pointerEvents:T,cursor:"pointer",zIndex:2}}),H=(new r({size:[this.HEIGHT,this.buttonHeight],content:d,properties:{textAlign:"center",lineHeight:this.buttonHeight+"px",backgroundColor:"#EEE",border:"1px solid gray",borderRadius:"10px",boxShadow:"0 10px 20px -5px rgba(0, 0, 0, 0.3)",cursor:"pointer",pointerEvents:"none",zIndex:2}}),new r({size:[void 0,!0],content:l,properties:{pointerEvents:"none",fontSize:"18px",zIndex:2}})),v=new u({transform:function(){return a.translate(0,-60,0)}}),x=new u({opacity:function(){return t.get()}}),S=new u({opacity:function(){return 1-t.get()}});new u({transform:function(){var o=t.get()*(m.buttonWidth-m.buttonHeight);return a.translate(o,0,0)}});b=0;var A=new u({origin:[0,1],align:e,transform:function(){return a.translate(i,s+b,0)}}),E=this.add(A);E.add(x).add(w),E.add(S).add(I),"none"!=l&&E.add(v).add(H),I.on("mouseenter",function(){I.setProperties({backgroundColor:"#999"}),o&&w.setProperties({backgroundColor:"#009300"})}),I.on("mouseleave",function(){I.setProperties({backgroundColor:"#eee"}),o&&w.setProperties({backgroundColor:"#ff4b23"})}),I.on("mouseup",function(){function e(){c?m.options.autoPlay.call(m.options.appView,o):window.location.href=window.location.pathname+n}function i(){c&&m.options.autoPlay.call(m.options.appView,o)}c||g||(m.twoState.set(0,m.TRANSITION),m.threeState.set(0,m.TRANSITION),m.fourState.set(0,m.TRANSITION)),t.isActive()&&t.halt(),o?t.set(0,m.TRANSITION,i):t.set(1,m.TRANSITION,e),o=!o})}var n=t("famous/core/View"),r=t("famous/core/Surface"),a=t("famous/core/Transform"),h=t("famous/modifiers/StateModifier"),u=t("famous/core/Modifier"),l=t("famous/transitions/Transitionable"),d=t("famous/transitions/Easing");t("famous/modifiers/Draggable");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.DEFAULT_OPTIONS={columnCount:"columnCount",autoPlay:"autocomplete",appView:"appView"},e.exports=i});