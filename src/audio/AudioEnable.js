define(["require","exports","module","famous/core/View","famous/utilities/Timer"],function(t,e,o){function i(){n.apply(this,arguments);this.isUnlocked=!1,this.context=this.options.context}function c(){var t=this;if(!this.isUnlocked){var e=this.context.createBuffer(1,1,22050),o=this.context.createBufferSource();o.buffer=e,o.connect(this.context.destination),o.start(0),s.setTimeout(function(){o.playbackState===o.PLAYING_STATE||o.playbackState===o.FINISHED_STATE?(t.isUnlocked=!0,t.options.hud.startSound()):c.call(t)},100)}}var n=t("famous/core/View"),s=t("famous/utilities/Timer");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.unlockAudio=function(){this.isUnlocked||c.call(this)},i.DEFAULT_OPTIONS={hud:"hud",context:"context"},o.exports=i});